# 计算广告(网易云课堂)-学习笔记

> 计算广告2.0 从数据变现到用户增长
>
> *<small>如果需要阅读该笔记，最好下载到本地，挺多网络图片在github上加载不出来</small>*

# 1. 课程概述

## 1.1 课程知识点

课程主要讲解以下几类知识点：

+ 数据与商业化的全貌和发展历程
+ 主要商业化产品的需求与原理
+ 重要系统与算法挑战及解决方案
+ 应如何利用和运营各商业化产品
+ 各类岗位需要什么样的知识准备

课程不包含以下内容：

+ 相关基础学科的完备讲解
+ 具体某款产品的使用指南
+ 各技术方案的代码级实现
+ 工作中问题的系统答疑

# 2. 认识商业化体系

广大耳熟能详的互联网厂商，一半以上的收入来源于广告。

## 2.1 与商业化相关的产品问题

+ **商业模式探索**

  例如：电影是一种边际成本很低，同时信息传播量很大的典型商品。是否可能探索一种售价很低，而充分利用其信息传播能力的电影行业发行模式？

+ **流量变现**

  例如：互联网电视厂商除了销售收入，还可以获得用户流量。这些流量的性质如何，应如何变现？

+ **数据变现**

  例如：室内导航技术是近年来快速发展的新型互联网应用。这类产品会得到什么样有价值的数据资产，又应该采用哪种具体的商业产品来变现？

+ **用户增长**

  例如：电商网站如何判断各个流量来源的效果与归因关系？如何用数据来找到转化过程中的问题？

## 2.2 什么是免费模式？

+ 免费模式本质
  + 能够个性化传播信息的产品，售价都会趋向其**边际成本**
+ 免费模式举例
  + 网站、应用：边际成本≈0
  + 手机、电视：边际成本≈量产成本（举例：红米手机）
+ 免费模式目的
  + 获得其他资产，通过后向渠道变现

##  2.3 互联网三项可变现核心资产

+ 品牌

  根据用户熟悉的形象提高付费内容**关注程度**

+ 数据（对应个性化）

  根据用户偏好提高付费内容**投放效率**

+ 流量（对应规模）

  在正常（Organic）内容中夹带**付费（Sponsored）内容**

## 2.4 流量变现与数据变现

​	举例，原本网站摆放男士剃须刀广告，**流量价值**10000（从甲方盈利）；后面该网站通过流量分析，得知男士用户和女士用户数量相当，于是修改广告位摆放的广告，一方面摆放男士剃须刀广告，另一方面摆放女士护肤广告，一方面降低剃须刀公司甲方投放广告的所需费用，另一方面从另一个护肤品甲方获取盈利。

​	原本：从剃须刀甲方盈利1000 => 后来： 从剃须刀甲方盈利6000 + 从护肤品甲方盈利6000。

​	多出来的2000利润，来自**数据价值**（即网站原本对用户数据的分析，从而有后续的广告摆放改进，进而加大获利）

​	流量价值10000+数据价值2000 = 6000 + 6000 （流量+数据变现的成果）

## 2.5 品牌属性变现

+ 利用熟悉Logo进行再营销

  比如商品左边加个平台logo图标，引起用户关注（提高用户点击率）

+ 利用品牌形象带来高关注

  比如新品牌出现，请代言人加上一段词，然后理所当然地加上新品牌的图标，引起大众对新品牌的关注

## 2.6 关于商业化体系

+ 以广告为载体的商业化体系支撑了整个互联网行业的大半壁江山。不了解它，就不可能深入了解互联网。
+ 互联网商业化体系是迄今为止，大数据领域唯一形成规模化营收的应用。
+ 商业化是结合了计算技术、心理学、经济学、营销学等的综合应用。

## 2.7 iab.与其他行业协会

+ iab.（Interactive Advertising Burean）
  + 在线广告供给方的行业协会，推动数字化市场营销行业的发展
  + 指定市场效果衡量标准和在线广告创意的标准
  + 会员：Google，Yahoo，Microsoft，Facebook等

+ 4A（American Association of Advertising Agencies 
  + 主要的协议是关于广告代理费用的收取约定，避免恶意竞争
  + 主要集中在创意和客户服务，在线业务是一部分
  + 会员：Ogilvy & Mather，JWT，McCann等，Dentsu等非4A会员的大公司但也被列为4A公司
+ ANA（Association of National Advertisers）
  + 主要代表广告需求方的利益（也有媒体和代理会员）
  + 会员：AT & T，P & G，NBA等

# 3. 理解大数据问题：来源、问题与应用

## 3.1 数据来源

+ 交易数据
  1. 定义：业务流程中必须记录的数据
  2. 举例：
     + 电信：通话记录、话费等
     + 银行：存取款、利息等
     + 医疗：病例
  3. 特点：
     + 数据规模中等
     + 一致性要求极高
+ 行为数据
  1. 定义：业务流程中非必需记录的数据
  2. 举例：
     + 互联网：所有服务后台日志
     + 电信：通话内容、上网记录
     + 医疗：日常健康指标
  3. 特点：
     + 数据规模巨大
     + 一致性要求较低

## 3.2 数据应用

+ 洞察应用

  + 全局或局部性的统计信息获取

  + 举例：
    + 企业财务报表
    + 日常运营报表
  + 特点：
    + 主要用于宏观决策支持
    + 面向领导和运营人员

+ 自动化应用

  + 个体的行为和兴趣特征捕获
  + 举例：
    + 定向广告
    + 客户关系维护
  + 特点：
    + 主要用于微观业务实施
    + 面向机器和销售人员

## 3.3 关于BigData

+ 采样分析
  + 通过小部分数据即可相当准确地解决问题
  + 举例：
    + 用户教育程度分布统计
    + 人口普查
    + 百度迁徙地图
  + 特点：
    + 实际上不需要大规模计算
+ 全量加工
  + 必需分析全量数据才能解决问题
  + 举例：
    + 个性化推荐
    + 计算广告
    + 个人征信
  + 特点
    + 大规模计算无法避免

### 3.3.1 大数据保险行业展望

+ 自动化应用
  + 非理财险的利润来源于信息不对称！
  + 利润 = 保费 - 平均赔偿 * 出险率（客户对此变量无直觉）
  + 通过对于出险率的准确预测，可以极大地提高保险产品利润
+ 行为数据
  + 例1：汽车保险对上一年未出险人群打折
  + 例2：某地区某癌症发病率是平均水平三倍
+ 全量加工
  + 出险率预估 + 个性化定价

### 3.3.2 大数据医疗行业展望

+ 行为数据

  随着可穿戴设备及云存储的普及，个人健康数据规模将爆发增长

+ 自动化应用

  基于个人健康数据，实现个性化医疗和点对点医疗新模式

+ 洞察应用

  海量健康数据将催生数据驱动的医学研究方法

+ 全量加工

  个人健康建模+疾病的管理与预防

## 3.4 直观认识在线广告：目的与形式

### 3.4.1 目的

1. 品牌触达（Brand Awareness）

   创造独特良好的品牌形象，提升长时期内的**转化率**与**利润**

   举例：模特儿穿戴劳力士=>用户将“高贵、有格调”和劳力士手表关联，未来买手表可能选购劳力士。

2. 直接效果（Direct Response）

   有**短期内**明确用户**转化**行为诉求（过去10年互联网广告的精髓）

   举例：商品促销广告，临时打折活动

3. 同一客户不同目的的推广

---

**广告的根本目的**

+ 传统的视角
  + **广告的根本目的是广告主通过媒体达到低成本的用户接触**
  + 广告的投入产出比（Return on Investment，ROI）相比于销售人员的劝服活动应该较高
+ 互联网新视角：
  + **一切付费的信息、产品或服务的传播渠道，都是广告**
  + 直接效果广告的ROI应该可衡量、可优化

### 3.4.2 广告形式

1. 偏直接效果性广告形式
   + 条幅广告Banner（图片+文字）
   + 文字广告Textual（常见的急搜索引擎搜索结果的文字广告）
   + 邮箱营销Email Direct Marketing，EDM（国外盛行，国内无差别投放，基本都被当作垃圾邮件看待）
2. 偏品牌触达性广告形式
   + 视频广告video ad（常见的就是视频前中后内嵌商品广告）
   + 富媒体广告rich-media ad（早期博客时代，网页左右的视频横幅、动图广告等，现在少）
   + 开屏广告（常见的即手机应用打开时的大屏广告）

3. 移动广告普通形式

   + 条幅（和网页端相似，但是现在不受欢迎）
   + 开屏（就是应用打开时的广告）
   + 推荐墙（专门推荐一类信息的内容板块）
   + 信息流广告（比如浏览用户动态列表时，往下滑动几次后加载大小一致的信息流广告）

4. 激励性广告

   + 原生激励视频（比如手机游戏需要消耗体力值，体力值用完后，观看下方广告后可免费获得体力值）

   再比如有些应用里面会有什么小任务，要求用户安装某一个app，然后奖励多少积分or现金。这种虽然用户后续直接删掉对应app的可能性很大（用户后续质量较低），但是同样有价值。首先这类广告投放费用一般较低，再者甲方可能是为了刷榜，短时间内加大用户流量等目的。这类广告投放，一般出于直接效果（Direct Response）目的，而非品牌触达（Brand Awareness）效果。

5. 泛广告商业产品-团购

   常见的就是外卖app里的餐点服务

6. 泛广告商业产品-网址导航

   比如360、hao123等导航网站，会聚集大量的网址，这些网址的拥有者需要付费才能在导航页面的靠前位置显示。

7. 游戏联运

   常见的比如腾讯平台等，如果游戏制作人想要发布游戏，可能考虑这类大游戏平台，虽然利润分成可能最后平台拿走较多，但是能保证游戏正常获利，不至于腹死胎中。

# 4. 计算广告逻辑与挑战：六大算法问题

## 4.1 商业化体系大闭环

![img](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210616162516335-2013677402.png)

## 4.2 计算广告的核心挑战

+ 计算广告的核心问题，是为一系列用户与环境的组合，找到最合适的广告投放策略以优化整体广告活动的利润。

+ 优化问题描述：

  利润 = 收入 - 成本。下方图片中的第一行方程式即优化的目标（利润）。
  
  图片第二行方程式表示广告的计算限制。比如，k可以表示合同最多不能超过多少钱，或者合同最少要有多少次展示量

![img](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210616162759489-1981174793.png)

## 4.3 广告业务的转化漏斗与目标

**eCPM**

> [eCPM_百度百科 (baidu.com)](https://baike.baidu.com/item/eCPM/3461950?fr=aladdin)

​	ECPM（effective cost per mille）指的是每一千次展示可以获得的广告收入，展示的单位可以是[网页](https://baike.baidu.com/item/网页/99347)，广告单元，甚至是单个广告（在 [AdSense](https://baike.baidu.com/item/AdSense/215191) “高级报告”的“数据展示依据”下拉框中可以选择）。

​	默认情况下，eCPM 指的都是千次网页展示（Pageview）收入。eCPM 只是用来反映网站盈利能力的[参数](https://baike.baidu.com/item/参数/5934974)，不代表收入。

​	ECPM = 收入/网页展示次数×1000

+ 收入 = 广告单价×网页点击率×网页展示次数

+ 网页点击率×网页展示次数 = 网页点击数……

+ ECPM = 广告单价×网页点击率×1000

​	ECPM，它是一个与网页展示次数无关的指标，这证明一点：一个网站的AdSense可盈利趋势与网站的大小无关，它最终是由平均广告单价和广告的点击率决定的。

​	那么如何提高网页的eCPM，首先前提条件是网页需要有足够的流量和足够的点击，如果每天的点击数低于100，那么就没必要管什么eCPM了，先想办法提高网站流量再说，如果网站已经有了不错的流量，但是eCPM的数值偏低，我们可以在不违反Adsense的计划政策的前提下，通过以下几个方法来提高网站的eCPM。

<small>（具体的还是直接看百度百科即可，这里也就是把内容搬运过来）</small>

+ 提高网站的总体流量
+ 提高网站的点击率
+ 删除点击率低的广告
+ 库存收益管理下的eCPM解读

---

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617105420017-1426055656.png)
$$
eCPM = r(a,u,c) = μ（a,u,c) * v(a,u)
$$

+ `μ(a,u,c)`	表示点击率
+ `v(a,u)`	表示点击价值

上图的公式，a表示ad（广告），u表示user（用户），c表示content（内容）。

---

这里需要注意的即如何标识一个user（可能有多端问题）。

+ PC Web / Mobile Web环境

  Cookie：存续性差，跨域时需要映射

+ IOS应用

  IDFA：存续性好于cookie，但IOS10有更严格的政策（简言之就是用户不让你用就用不了）

+ Android应用

  Anddroid ID：存续性好于IDFA；IMEI：在中国有部分使用（但是外国不用）

+ 无以上ID场景

  FingerPrint（IP + User Agent）：存于http头中，可作缺省标识。（经常变动，最坏的情况使用）

理想方案即使用IDFA、Android或Cookie，FingerPrint是不得已而为之的方案。

## 4.4 商业化体系六大算法问题

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617111655904-637786244.png)

+ 特征提取：受众定向
+ 微观优化：eCPM估计
+ 宏观优化：机制设计
+ 受限优化：在线分配
+ 强化学习：探索与利用
+ 重定向：个性化推荐

## 4.5 用户决策的转化漏斗模型

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617133218091-594029212.png)

+ 选择（曝光exposure，关注attention）

+ 解释（理解comprehension，信息接受message acceptance）
+ 态度（保持retention，购买purchase）

---

常见的一些广告策略的效果

+ 幽默（引起关注，但是只有理解的人才会觉得幽默）
+ 性感（引起关注，但是并非所有人群都接受这类信息，可能引起反感）
+ 艺术（较难理解，但是容易给人留有持久的印象）
+ 折扣（引起人们关注和购买欲，但是需要一定的成本）

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617134005576-1340907038.png)

## 4.6 在线广告主要结算方式详解

> [广告术语CPM、CPT、CPC、CPA、CPS，一次说清！ (sohu.com)](https://www.sohu.com/a/165317940_174744)	=>	推荐阅读，很详细
>
> [广告行业中常说的 CPC，CPM，CPD，CPT，CPA，CPS 等词的意思是什么? - 知乎 (zhihu.com)](https://www.zhihu.com/question/26506736)

<table>
  <tr align="center">
  	<th>结算方式</th>
    <th>点击率估计</th>
    <th>点击价值估计</th>
    <th>优缺点</th>
    <th>适用场景</th>
  </tr>
  <tr>
  	<td align="center">CPT</td>
    <td colspan="2" align="center">需求方</td>
    <td>1. 可以充分发挥橱窗效应。<br />2. 无法利用受众定向技术。</td>
    <td>高曝光的品牌广告</td>
  </tr>
  <tr>
  	<td align="center">CPM</td>
    <td colspan="2" align="center">需求方</td>
    <td>1. 可以利用受众定向选择目标人群。<br />2. 合约售卖下，受众划分不能过细。</td>
    <td>1. 有受众选择需求的品牌广告<br />2. 实时竞价广告交易</td>
  </tr>
  <tr>
  	<td align="center">CPC</td>
    <td align="center">供给方</td>
    <td align="center">需求方</td>
    <td>1. 可以非常精细地划分受众人群。<br />2. 比较合理的供给方和需求方分工。</td>
    <td>竞价广告网络</td>
  </tr>
  <tr>
  	<td align="center">CPS</td>
    <td colspan="2" align="center">供给方</td>
    <td>1. 需求方无任何风险。<br />2. 供给方运营难度较大。</td>
    <td>1. 效果类广告联盟<br />2. 效果类DSP</td>
  </tr>
</table>

视频中，说CPC是现在比较主流的方式（2016年的教程）

上表中，除了CPC，其他都是一头沉的模式，都需要第三方监控（比如百度浏览量统计等第三方平台）。

### 4.6.1 CPA/CPS的问题与合理场景

存在的问题：

+ 由供给方同时负责优化点击和转化率，并非普适的合理模式
+ 存在劫持、代销等多种相应的灰色手段
+ 用于优化的数据对于单个广告主来说严重不足

适用的场景：

+ 转化流程一致且规范的广告市场
+ 例：淘宝客（转化流程为淘宝统一提供）、APP下载（转化流程在Apple Store或Google Play）

---

教程视频中提到oCPM和CPA。（另一个oCPC类似，根据CPC收费，但是根据CPA优化）

oCPM是FaceBook提出的，根据CPM结算，**创新点在于不是根据CPM优化，而是根据CPA优化**。

oCPM根据广告主（甲方）的需求Action（比如下载），对广告进行优化，但是最后根据CPM方式收费。

这么做的好处如下：

+ 对广告主（甲方）的要求低。CPA可以吸引更多的广告主，资金要求相对较低，其他门槛低，广告主可以不参与广告优化
+ 广告平台方便控制风险。纯CPA优化，广告平台可能亏损，所以按照CPM收费，但是往CPA方向优化（相当于有个过渡CPM=>CPA）

​	**oCPM是为了向CPA过渡而产生的中间模式，本质还是为了优化A，但是通过CPM降低了风险，使这种模式能够规模化实现**。

> [oCPM功能以及原理简述 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/40814720)	=>	文章很棒，建议阅读
>
> 简言之，oCPM，一方面，使得甲方获得更高ROI；另一方面，使得乙方（广告平台）有动力优化广告，提高点击率、点击到转化的比例，使得平台的流量变现能力更强。

# 5. 商业化产品体系概览：六大产品问题

## 5.1 商业产品设计运营原则

+ 商业产品，即面向商业客户而非一般用户的产品，其中最典型的代表就是广告产品。
+ 相对于产品功能，要特别关注产品中的策略部分。
+ 要特别关注数据，让运营和产品优化形成闭环。所有产品特征和策略的成功与否，要严格根据数据的反馈来判断。
+ 优化的是确定的商业目标，而非使用便捷性。

## 5.2 数据驱动的商业产品发展历程

> [互联网商业变现之在线广告（1）：合约广告产品和竞价广告产品 (baidu.com)](https://baijiahao.baidu.com/s?id=1661307535434188973&wfr=spider&for=pc)
>
> 竞价广告和合约广告对比
>
> + 从供给方或广告市场方来看，合约广告和竞价广告的对比可以类比于计划经济和市场经济的区别。合约广告情况下，媒体要要保证量和质。而在竞价广告的情况下，市场只负责制定竞价和收费的规则，广告主量的保证采用市场竞争的方式来完成。
>
> + 从需求端来看，合约广告的采买方式对广告主来说缺乏透明性，无法确定媒体确实投放这么多量。不过，预先预定保证量的合约的采买方式这对于品牌性质较强的广告活动来说比较有意义的。在竞价广告中，供给方不再向广告主承诺广告投放量，且交易逻辑由首先确保量的结构变成了首先确保单位成本的结构。

+ 竞价的模式，使得我们能够把精细的数据利用起来，**竞价是整个商业广告产品发展历程中最重要的里程碑，意义远远超过程序化广告和原生广告**。

+ 程序化交易，是为了变现第一方数据和第三方数据。
  + 第一方数据：广告主自己的数据
  + 第三方数据：和广告主、媒体无关的其他数据。这类数据需要程序化的框架中才能利用起来。
+ 场景数据是现在关注的一个热点，过去PC时代没有这个说法，现在移动端应用可以包揽衣食住行等多方面，才催生出这一概念。

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617154003109-1060649243.png)

## 5.3 商业化体系六大产品问题

+ 供需接口
+ 竞价机制
+ 数据运营
+ 标签体系
+ 程序化交易
+ 原生广告

### 5.3.1 供需接口

**需求方层级组织**

+ **广告活动（Campaign）**概念上对应于广告主的一次投放合同，其中包括了预算、时间范围等基本信息。
+ **广告组（Ad Group）**对应于一个具体的广告投放策略，主要是设定受众定向条件和出价。
+ **广告创意（Creative）**则是最终展示出来的素材，可能在同一个组策略下有不同尺寸的创意存在。

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617160820889-1107916105.png)

---

**广告计划、广告组设置示意**

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617160859361-43819347.png)

---

**媒体、广告位设置示意**

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617161434679-2061353300.png)

---

**供需之间的各种对接方式**

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617161602963-1249719389.png)

+ SDK（别人在媒体中嵌入内容，需求方控制能力更高）
+ API（不让别人嵌入，隔一段时间从API那里拉取广告，自己做抉择，供给方从需求方那边的API拉取广告库数据，进行展示）
+ RTB（每一次广告展示，都请求一次广告，<u>程序化交易方式</u>）
+ 投放界面（UI投放，即需求方填写制定的参数，媒体根据参数投放广告。API则需要需求方封装对应的代码）

**RTB每次供给方向需求方发起请求时，需求方直接给出对应的广告，供给方直接展示对应的广告即可；而API，供给方向需求方请求后获取到的是一个广告库，供给方需要再自己做决策展示哪些广告。**

# 6. 商业化产品系统框架：六大系统技术

## 6.1 个性化系统一般框架

+ 在线投放引擎：要求高并发、低延迟

+ 数据高速公路：吞吐量要求高，但是容错性、数据一致性要求不严格（少数数据错误可以容忍）

+ 流计算平台：常见的storm、spark、flink等
+ 分布式计算平台：hadoop、spark等

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617163459461-1971989790.png)

## 6.2 Web-scale技术问题比较

<table>
  <tr align="center">
  	<th></th>
		<th>搜索</th>
    <th>搜索广告</th>
    <th>显示广告</th>
    <th>个性化推荐</th>
  </tr>
  <tr align="center">
  	<td>主要准则</td>
    <td>相关性</td>
    <td colspan="2">利润</td>
    <td>用户兴趣</td>
  </tr>
  <tr align="center">
  	<td>其他目标</td>
    <td>垂直领域决定</td>
    <td colspan="2">质量、安全性</td>
    <td>多样性、新鲜度</td>
  </tr>
  <tr align="center">
  	<td>索引规模</td>
    <td>十亿级</td>
    <td>百万 千万级</td>
    <td>百万级</td>
    <td>百万级 亿级</td>
  </tr>
  <tr align="center">
  	<td>个性化</td>
    <td colspan="2">较少的个性化需求</td>
    <td colspan="2">亿级规模用户上的个性化</td>
  </tr>
  <tr align="center">
  	<td>检索信号</td>
    <td colspan="2">较明确</td>
    <td colspan="2">较分散</td>
  </tr>
  <tr align="center">
  	<td>Downstream优化</td>
    <td colspan="3">不适用</td>
    <td>适用</td>
  </tr>
</table>

## 6.3 广告系统的特点

+ 高并发、低延迟的要求

  同时关注QPS和Latency

+ 数据处理的规模很大

  （用户、环境、信息）三元组上的数据建模

+ **数据处理的速度优先于精度**

+ **主流程的一致性要求不高**

## 6.4 广告系统的设计原则

+ 建立弱一致性的设计思维方式

  例：Near-line page fetcher

+ 大量数据尽量环形单项流动

  避免集中读写形成的单点性能瓶颈

+ 在线时不要发生与关系型数据库的交互

  增删改查的传统需求实际上不存在（往往就是批量写和随机读）

+ 充分利用开源社区的成熟技术

## 6.5 开源软件的优势与顾虑

优势：

+ 大量细分适用场景都有开源方案
+ 大型互联网公司的开源产品经过充分测试

顾虑：

+ 需要仔细甄别好的和不太好的开源项目
+ 在遇到深层次bug时无能为力

**核心业务逻辑不应选择开源**（广告中的核心逻辑：广告检索、排序算法）

## 6.6 商业化产品系统架构统一框架

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617190410043-939185288.png)

## 6.7 商业化系统的开源架构

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617190659728-1710179634.png)

## 6.8 商业化产品系统架构分解

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617191224834-323006611.png)

**在线计费：预算控制**

**离线计费：最后财务结算的标准**

在线计费使用的反作弊方法比较简单，离线计费使用更复杂的策略，最后计算结果不同。

## 6.9 商业化产品六大系统技术

+ 流量接入：代码和SDK
+ 投放引擎：高并发服务
+ 候选查询：实时索引
+ 特征存储：No-sql数据库
+ 离线学习：分布式计算
+ 在线学习：流式计算

## 6.10 主要广告产品优化目标分解

![](https://img2020.cnblogs.com/blog/1244059/202106/1244059-20210617191545711-330506433.png)

